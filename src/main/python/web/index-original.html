<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>幸福氣體管理系統</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100">
    <!-- Navigation -->
    <nav class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-fire-flame-curved text-2xl"></i>
                    <h1 class="text-xl font-bold">幸福氣體管理系統</h1>
                </div>
                <div class="flex space-x-6">
                    <a href="#dashboard" class="nav-link hover:text-blue-200 transition">儀表板</a>
                    <a href="#clients" class="nav-link hover:text-blue-200 transition">客戶管理</a>
                    <a href="#drivers" class="nav-link hover:text-blue-200 transition">司機管理</a>
                    <a href="#vehicles" class="nav-link hover:text-blue-200 transition">車輛管理</a>
                    <a href="#deliveries" class="nav-link hover:text-blue-200 transition">配送管理</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Dashboard Section -->
        <section id="dashboard" class="mb-8">
            <h2 class="text-2xl font-bold mb-6">儀表板</h2>
            
            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">總客戶數</p>
                            <p class="text-2xl font-bold text-blue-600" id="total-clients">-</p>
                        </div>
                        <i class="fas fa-users text-3xl text-blue-500 opacity-50"></i>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">今日配送</p>
                            <p class="text-2xl font-bold text-green-600" id="today-deliveries">-</p>
                        </div>
                        <i class="fas fa-truck text-3xl text-green-500 opacity-50"></i>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">可用司機</p>
                            <p class="text-2xl font-bold text-purple-600" id="available-drivers">-</p>
                        </div>
                        <i class="fas fa-id-card text-3xl text-purple-500 opacity-50"></i>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">可用車輛</p>
                            <p class="text-2xl font-bold text-orange-600" id="available-vehicles">-</p>
                        </div>
                        <i class="fas fa-car text-3xl text-orange-500 opacity-50"></i>
                    </div>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-semibold mb-4">本週配送統計</h3>
                    <canvas id="deliveryChart"></canvas>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-semibold mb-4">配送狀態分布</h3>
                    <canvas id="statusChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Clients Section -->
        <section id="clients" class="mb-8 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">客戶管理</h2>
                <button onclick="showAddClientModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                    <i class="fas fa-plus mr-2"></i>新增客戶
                </button>
            </div>
            
            <!-- Search Bar -->
            <div class="bg-white rounded-lg shadow p-4 mb-6">
                <div class="flex gap-4">
                    <input type="text" id="client-search" placeholder="搜尋客戶名稱或地址..." 
                           class="flex-1 px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    <select id="client-district" class="px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                        <option value="">所有區域</option>
                    </select>
                    <button onclick="searchClients()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">
                        <i class="fas fa-search mr-2"></i>搜尋
                    </button>
                </div>
            </div>
            
            <!-- Clients Table -->
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">客戶編號</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">客戶名稱</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">地址</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">區域</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">狀態</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                        </tr>
                    </thead>
                    <tbody id="clients-tbody" class="bg-white divide-y divide-gray-200">
                        <!-- Client rows will be inserted here -->
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="flex justify-between items-center mt-4">
                <div class="text-sm text-gray-600">
                    顯示 <span id="clients-showing">0</span> 筆資料，共 <span id="clients-total">0</span> 筆
                </div>
                <div class="flex gap-2" id="clients-pagination">
                    <!-- Pagination buttons will be inserted here -->
                </div>
            </div>
        </section>

        <!-- Drivers Section -->
        <section id="drivers" class="mb-8 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">司機管理</h2>
                <button onclick="showAddDriverModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                    <i class="fas fa-plus mr-2"></i>新增司機
                </button>
            </div>
            
            <!-- Drivers Table -->
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">員工編號</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">姓名</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">電話</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">駕照類型</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">狀態</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">今日配送</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                        </tr>
                    </thead>
                    <tbody id="drivers-tbody" class="bg-white divide-y divide-gray-200">
                        <!-- Driver rows will be inserted here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Vehicles Section -->
        <section id="vehicles" class="mb-8 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">車輛管理</h2>
                <button onclick="showAddVehicleModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                    <i class="fas fa-plus mr-2"></i>新增車輛
                </button>
            </div>
            
            <!-- Vehicles Table -->
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">車牌號碼</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">車型</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">品牌/型號</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">載重量</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">狀態</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">下次保養</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                        </tr>
                    </thead>
                    <tbody id="vehicles-tbody" class="bg-white divide-y divide-gray-200">
                        <!-- Vehicle rows will be inserted here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Deliveries Section -->
        <section id="deliveries" class="mb-8 hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">配送管理</h2>
                <button onclick="showAddDeliveryModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                    <i class="fas fa-plus mr-2"></i>新增配送單
                </button>
            </div>
            
            <!-- Delivery Filters -->
            <div class="bg-white rounded-lg shadow p-4 mb-6">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <input type="date" id="delivery-date" class="px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    <select id="delivery-status" class="px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                        <option value="">所有狀態</option>
                        <option value="pending">待處理</option>
                        <option value="assigned">已指派</option>
                        <option value="in_progress">配送中</option>
                        <option value="completed">已完成</option>
                        <option value="cancelled">已取消</option>
                    </select>
                    <select id="delivery-driver" class="px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                        <option value="">所有司機</option>
                    </select>
                    <button onclick="searchDeliveries()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">
                        <i class="fas fa-filter mr-2"></i>篩選
                    </button>
                </div>
            </div>
            
            <!-- Deliveries Table -->
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">訂單編號</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">客戶</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">配送地址</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">預定時間</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">狀態</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">司機</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                        </tr>
                    </thead>
                    <tbody id="deliveries-tbody" class="bg-white divide-y divide-gray-200">
                        <!-- Delivery rows will be inserted here -->
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- Modals -->
    <!-- Add Client Modal -->
    <div id="addClientModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h3 class="text-xl font-bold mb-4">新增客戶</h3>
            <form id="addClientForm">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">客戶名稱</label>
                    <input type="text" name="name" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">地址</label>
                    <input type="text" name="address" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">聯絡人</label>
                    <input type="text" name="contact_person" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">統一編號</label>
                    <input type="text" name="tax_id" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <input type="checkbox" name="is_corporate" class="mr-2">
                        公司戶
                    </label>
                </div>
                <div class="flex justify-end gap-4">
                    <button type="button" onclick="closeModal('addClientModal')" class="px-4 py-2 text-gray-600 hover:text-gray-800">
                        取消
                    </button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                        新增
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Driver Modal -->
    <div id="addDriverModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center overflow-y-auto">
        <div class="bg-white rounded-lg p-8 max-w-2xl w-full my-8">
            <h3 class="text-xl font-bold mb-4">新增司機</h3>
            <form id="addDriverForm">
                <div class="grid grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">姓名</label>
                        <input type="text" name="name" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">員工編號</label>
                        <input type="text" name="employee_id" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">電話</label>
                        <input type="tel" name="phone" required pattern="09[0-9]{8}" placeholder="0912345678" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">身分證字號</label>
                        <input type="text" name="id_number" required pattern="[A-Z][0-9]{9}" placeholder="A123456789" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4 col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">地址</label>
                        <input type="text" name="address" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">緊急聯絡人</label>
                        <input type="text" name="emergency_contact" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">緊急聯絡電話</label>
                        <input type="tel" name="emergency_phone" required pattern="09[0-9]{8}" placeholder="0987654321" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">駕照號碼</label>
                        <input type="text" name="license_number" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">駕照類型</label>
                        <select name="license_type" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                            <option value="">請選擇</option>
                            <option value="職業大貨車">職業大貨車</option>
                            <option value="職業小型車">職業小型車</option>
                            <option value="普通大貨車">普通大貨車</option>
                            <option value="普通小型車">普通小型車</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">駕照到期日</label>
                        <input type="date" name="license_expiry_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">入職日期</label>
                        <input type="date" name="hire_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">底薪</label>
                        <input type="number" name="base_salary" required min="0" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">獎金比例 (%)</label>
                        <input type="number" name="commission_rate" required min="0" max="100" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="closeModal('addDriverModal')" class="px-4 py-2 text-gray-600 hover:text-gray-800">
                        取消
                    </button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                        新增
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Vehicle Modal -->
    <div id="addVehicleModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center overflow-y-auto">
        <div class="bg-white rounded-lg p-8 max-w-2xl w-full my-8">
            <h3 class="text-xl font-bold mb-4">新增車輛</h3>
            <form id="addVehicleForm">
                <div class="grid grid-cols-2 gap-4">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">車牌號碼</label>
                        <input type="text" name="plate_number" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">車型</label>
                        <select name="vehicle_type" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                            <option value="">請選擇</option>
                            <option value="truck">貨車</option>
                            <option value="van">廂型車</option>
                            <option value="motorcycle">機車</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">品牌</label>
                        <input type="text" name="brand" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">型號</label>
                        <input type="text" name="model" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">出廠年份</label>
                        <input type="number" name="year" required min="1990" max="2030" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">燃料類型</label>
                        <select name="fuel_type" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                            <option value="">請選擇</option>
                            <option value="gasoline">汽油</option>
                            <option value="diesel">柴油</option>
                            <option value="electric">電動</option>
                            <option value="hybrid">油電混合</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">引擎號碼</label>
                        <input type="text" name="engine_number" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">車身號碼 (VIN)</label>
                        <input type="text" name="vin" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">顏色</label>
                        <input type="text" name="color" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">掛牌日期</label>
                        <input type="date" name="registration_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">保險到期日</label>
                        <input type="date" name="insurance_expiry_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">驗車到期日</label>
                        <input type="date" name="inspection_due_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">最大載重 (公斤)</label>
                        <input type="number" name="max_load_kg" required min="0" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">最大瓦斯桶數</label>
                        <input type="number" name="max_cylinders" required min="0" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">購買價格</label>
                        <input type="number" name="purchase_price" required min="0" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">購買日期</label>
                        <input type="date" name="purchase_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="closeModal('addVehicleModal')" class="px-4 py-2 text-gray-600 hover:text-gray-800">
                        取消
                    </button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                        新增
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Delivery Modal -->
    <div id="addDeliveryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center overflow-y-auto">
        <div class="bg-white rounded-lg p-8 max-w-2xl w-full my-8">
            <h3 class="text-xl font-bold mb-4">新增配送單</h3>
            <form id="addDeliveryForm">
                <div class="grid grid-cols-2 gap-4">
                    <div class="mb-4 col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">客戶</label>
                        <select name="client_id" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                            <option value="">請選擇客戶</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">預定配送日期</label>
                        <input type="date" name="scheduled_date" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">預定時段</label>
                        <select name="scheduled_time_slot" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                            <option value="">請選擇</option>
                            <option value="上午 9:00-12:00">上午 9:00-12:00</option>
                            <option value="下午 12:00-15:00">下午 12:00-15:00</option>
                            <option value="下午 15:00-18:00">下午 15:00-18:00</option>
                            <option value="晚上 18:00-21:00">晚上 18:00-21:00</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">瓦斯桶數</label>
                        <input type="number" name="gas_quantity" required min="1" value="1" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">單價</label>
                        <input type="number" name="unit_price" required min="0" value="800" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">運費</label>
                        <input type="number" name="delivery_fee" min="0" value="0" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">付款方式</label>
                        <select name="payment_method" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                            <option value="cash">現金</option>
                            <option value="transfer">轉帳</option>
                            <option value="monthly_billing">月結</option>
                        </select>
                    </div>
                    <div class="mb-4 col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">配送地址</label>
                        <input type="text" name="delivery_address" required class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">配送區域</label>
                        <input type="text" name="delivery_district" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">回收空桶數</label>
                        <input type="number" name="empty_cylinders_to_return" min="0" value="0" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4 col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">備註</label>
                        <textarea name="notes" rows="3" class="w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500"></textarea>
                    </div>
                    <div class="mb-4 col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <input type="checkbox" name="requires_empty_cylinder_return" class="mr-2">
                            需要回收空桶
                        </label>
                    </div>
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="closeModal('addDeliveryModal')" class="px-4 py-2 text-gray-600 hover:text-gray-800">
                        取消
                    </button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
                        新增
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>