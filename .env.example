# LuckyGas 環境變數設定範例
# 請複製此檔案為 .env 並填入實際的設定值
# cp .env.example .env

# ===================================
# 資料庫設定 (Database Configuration)
# ===================================

# PostgreSQL 生產環境設定 (建議使用)
DATABASE_URL=postgresql://username:password@localhost:5432/luckygas_db
# 範例: postgresql://luckygas:strong_password@localhost:5432/luckygas_production

# PostgreSQL 詳細設定 (可選，用於更細緻的控制)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=luckygas_db
DB_USER=luckygas
DB_PASSWORD=your_secure_password_here

# SQLite 開發環境設定 (僅限開發使用)
# DATABASE_URL=sqlite:///./data/luckygas.db

# 資料庫連線池設定
DB_POOL_SIZE=20                    # 連線池大小
DB_MAX_OVERFLOW=0                  # 最大溢出連線數
DB_POOL_TIMEOUT=30                 # 連線池超時時間（秒）
DB_POOL_RECYCLE=3600              # 連線回收時間（秒）

# ===================================
# API 伺服器設定 (API Server Configuration)
# ===================================

# API 基本設定
API_HOST=0.0.0.0                   # API 監聽位址 (0.0.0.0 表示所有網路介面)
API_PORT=8000                      # API 監聽埠號
API_WORKERS=4                      # 工作進程數 (生產環境建議根據 CPU 核心數設定)
API_RELOAD=false                   # 自動重新載入 (僅開發環境設為 true)

# API 版本與資訊
API_VERSION=1.0.0                  # API 版本號
API_TITLE=LuckyGas API            # API 標題
API_DESCRIPTION=幸福瓦斯配送管理系統 API

# API 限流設定
API_RATE_LIMIT=100                 # 每分鐘最大請求數
API_RATE_LIMIT_PERIOD=60          # 限流週期（秒）

# ===================================
# 安全設定 (Security Configuration)
# ===================================

# JWT 金鑰設定 (請務必更改為隨機生成的安全金鑰)
SECRET_KEY=your-super-secret-key-must-be-changed-in-production
# 生成安全金鑰: openssl rand -hex 32

# JWT 設定
JWT_ALGORITHM=HS256                # JWT 加密演算法
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30 # 存取權杖過期時間（分鐘）
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7    # 更新權杖過期時間（天）

# 加密設定
BCRYPT_ROUNDS=12                   # bcrypt 加密輪數

# API 金鑰 (用於服務間通訊)
API_KEY=your-internal-api-key-here

# ===================================
# CORS 設定 (Cross-Origin Resource Sharing)
# ===================================

# 允許的前端來源 (多個來源以逗號分隔)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://your-frontend-domain.com

# CORS 詳細設定
CORS_ALLOW_CREDENTIALS=true        # 是否允許攜帶認證資訊
CORS_ALLOW_METHODS=*              # 允許的 HTTP 方法
CORS_ALLOW_HEADERS=*              # 允許的 HTTP 標頭
CORS_MAX_AGE=3600                 # 預檢請求快取時間（秒）

# ===================================
# 日誌設定 (Logging Configuration)
# ===================================

# 日誌等級: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO                     # 應用程式日誌等級
SQL_LOG_LEVEL=WARNING             # SQL 日誌等級

# 日誌檔案設定
LOG_FILE_PATH=logs/luckygas.log   # 日誌檔案路徑
LOG_FILE_MAX_SIZE=10485760        # 日誌檔案最大大小（bytes, 10MB）
LOG_FILE_BACKUP_COUNT=5           # 日誌檔案備份數量

# 日誌格式
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ===================================
# Google Maps API 設定
# ===================================

# Google Maps API 金鑰 (用於地理編碼和路線規劃)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here
# 申請地址: https://console.cloud.google.com/

# Google Maps 設定
GOOGLE_MAPS_REGION=TW             # 地區代碼（台灣）
GOOGLE_MAPS_LANGUAGE=zh-TW        # 語言設定

# ===================================
# SMS 簡訊服務設定 (Twilio)
# ===================================

# Twilio 帳戶設定
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+886912345678  # Twilio 發送號碼（需包含國碼）

# SMS 設定
SMS_ENABLED=false                  # 是否啟用簡訊功能
SMS_DEFAULT_COUNTRY_CODE=+886      # 預設國碼（台灣）

# ===================================
# Email 郵件服務設定
# ===================================

# SMTP 伺服器設定
SMTP_HOST=smtp.gmail.com          # SMTP 伺服器位址
SMTP_PORT=587                     # SMTP 埠號 (587 for TLS, 465 for SSL)
SMTP_USERNAME=your-email@gmail.com # SMTP 使用者名稱
SMTP_PASSWORD=your-app-password    # SMTP 密碼或應用程式密碼
SMTP_USE_TLS=true                 # 是否使用 TLS
SMTP_USE_SSL=false                # 是否使用 SSL

# 郵件設定
EMAIL_FROM_ADDRESS=noreply@luckygas.com.tw  # 寄件者郵件地址
EMAIL_FROM_NAME=LuckyGas 幸福瓦斯           # 寄件者名稱
EMAIL_ENABLED=false                         # 是否啟用郵件功能

# ===================================
# 第三方服務 API 金鑰
# ===================================

# LINE Notify (用於即時通知)
LINE_NOTIFY_TOKEN=your-line-notify-token

# Slack Webhook (用於團隊通知)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Firebase (用於推播通知)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY_ID=your-private-key-id
FIREBASE_PRIVATE_KEY=your-private-key
FIREBASE_CLIENT_EMAIL=your-client-email

# ===================================
# 快取設定 (Cache Configuration)
# ===================================

# Redis 設定 (用於快取和佇列)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=                    # Redis 密碼（如果有設定）
REDIS_MAX_CONNECTIONS=50          # 最大連線數

# 快取設定
CACHE_TTL=3600                    # 預設快取存活時間（秒）
CACHE_ENABLED=true                # 是否啟用快取

# ===================================
# 檔案儲存設定
# ===================================

# 本地檔案儲存
UPLOAD_PATH=uploads/              # 檔案上傳路徑
MAX_UPLOAD_SIZE=10485760          # 最大上傳檔案大小（bytes, 10MB）
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,doc,docx  # 允許的檔案類型

# AWS S3 設定 (選擇性，用於雲端儲存)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET_NAME=luckygas-storage
AWS_S3_REGION=ap-northeast-1      # 亞太地區（東京）

# ===================================
# 監控與分析設定
# ===================================

# Sentry (錯誤追蹤)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production     # 環境名稱: development, staging, production

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X     # Google Analytics 追蹤 ID

# ===================================
# 應用程式設定
# ===================================

# 時區設定
TIMEZONE=Asia/Taipei              # 台灣時區

# 語言設定
DEFAULT_LANGUAGE=zh-TW            # 預設語言
SUPPORTED_LANGUAGES=zh-TW,en      # 支援的語言列表

# 業務設定
DELIVERY_TIME_WINDOW=30           # 預設配送時間窗口（分鐘）
MAX_DELIVERIES_PER_DRIVER=20      # 每位司機最大配送數量
AUTO_ASSIGN_DELIVERIES=true       # 是否自動分配配送任務

# ===================================
# 開發環境設定
# ===================================

# 除錯模式 (生產環境務必設為 false)
DEBUG=false                       # 除錯模式
TESTING=false                     # 測試模式

# 開發工具
ENABLE_SWAGGER_UI=true            # 是否啟用 Swagger UI (/docs)
ENABLE_REDOC=true                 # 是否啟用 ReDoc (/redoc)

# ===================================
# 備份設定
# ===================================

# 自動備份設定
BACKUP_ENABLED=true               # 是否啟用自動備份
BACKUP_INTERVAL=86400             # 備份間隔（秒，預設每日）
BACKUP_RETENTION_DAYS=30          # 備份保留天數
BACKUP_PATH=backups/              # 備份檔案路徑

# ===================================
# 效能設定
# ===================================

# 請求超時設定
REQUEST_TIMEOUT=30                # 請求超時時間（秒）
DATABASE_QUERY_TIMEOUT=10         # 資料庫查詢超時時間（秒）

# 批次處理設定
BATCH_SIZE=100                    # 批次處理大小
MAX_CONCURRENT_JOBS=5             # 最大並行作業數

# ===================================
# 注意事項
# ===================================
# 1. 請勿將包含實際密碼的 .env 檔案提交到版本控制系統
# 2. 生產環境的 SECRET_KEY 必須是隨機生成的安全金鑰
# 3. 所有密碼應使用強密碼原則
# 4. 定期更新第三方服務的 API 金鑰
# 5. 根據實際需求調整各項設定值